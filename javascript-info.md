# JavaScript 进阶

## 基础

### 数据类型

JavaScript 是一门动态类型的编程语言，意味着虽然有数据类型，但是变量却不与数据类型绑定。

在 JavaScript 中有 **7** 种基本数据类型：`number`、`string`、````````

#### `number` 类型

`number` 类型不仅包括整数和浮点数，而且还包括了一些特殊的数字：`Infinity`、`-Infinity` 和 `NaN`。

- `Infinity` 表示数学上的无穷大，它比任何数字都大
- `-Infinity` 表示数学上的无穷小，它比任何数字都小
- `NaN` 表示数字的计算错误，由不正确的数学运算产生，对于 `NaN` 的数学运算的返回值都是 `NaN`。

> 注意：JavaScript 中所有的数学运算都是安全的，比如说除以 0，把非数字的字符串当做数字使用等，都不会产生致命错误，最多也就是得到 `NaN` 这个答案。

#### `string` 类型

JavaScript 中所有的字符串都需要使用引号包围。在 JavaScript 中有 3 种引号：

- 双引号：` " `
- 单引号：` ' `
- 反引号：`` ` ``

单引号和双引号都是简单的引号，它们在 JavaScript 种并没有明显区别。反引号是增强功能版的引号，它允许我们在字符串中通过 `${...}` 内嵌变量和表达式。

#### `boolean` 类型

布尔类型只有两个值：`true` 和 `false`。

#### `null` 类型

值 `null` 是一种特殊的类型，这种类型中只包含 `null` 类型，表示值的空缺。

#### `undefined` 类型

值 `undefined` 和 `null` 类似，唯一属于 `undefined` 类型，表示未被赋值。

#### 对象类型

上面的类型都是原始类型，因为它们的值非常简单。相反的，对象被用来存储数据的集合或者是更加复杂的实体。

#### `Symbol` 类型

`Symbol` 类型用于为对象创建独一无二的标志符。

#### `typeof` 操作符

`typeof` 操作符返回操作数的类型字符串，这在数据检查或者区别对待不同类型的数据时非常有用。

这个操作符支持两种语法：

1. 以操作符形式使用：`typeof x`
1. 类函数式调用：`typeof(x)`

```js
typeof undefined // 'undefined'
typeof 0 // 'number'
typeof true // 'boolean'
typeof 'foo' // 'string'
typeof Symbol('id') // 'symbol'
typeof Math // 'object'，Math 是提供数学运算的内置对象
typeof null // 'object'，这是语言本身的错误
typeof alert // 'function'，alert 是语言内置的方法，其属于对象类型，但 typeof 中对其进行了区别对待
```

### 类型转换

大多数情况下，操作符和函数会自动将一个值转换成正确的类型，这就是**类型转换**。例如：`alert` 函数会自动将任何值转换为字符串以显示。数学运算符会将值转换为数字。但是在有些情况下，我们也希望能够显式地进行类型转换。下面介绍了原始值之间的转换。

#### 字符串转换

字符串转换发生在我们需要字符串形式的值的时候，可以通过调用 `String(value)` 方法来将值转换为字符串。

#### 数字转换

数字转换发生在数学方法和表达式中，可以通过调用 `Number(value)` 方法来将值转换为数字。转换规则如下：

| 值 | 转换之后的值 | 
| :-- | :-- |
| undefined | NaN |
| null | 0 |
| true/false | 1/0 |
| string | 移除开始和结尾的空白字符，如果留下来的字符串是空字符串，则转换为 0，否则，从字符串起始解析，如果出现解析失败，则返回 NaN |

> 注意：如果数字运算符 `+` 的一侧是一个字符串，那么将执行字符串拼接，将不是字符串的操作数转换为字符串。其他情况下，都将转换为数字。

#### 布尔值转换

布尔值转换是最简单的一个，其转换发生在逻辑操作中，可以通过调用 `Boolean(value)` 方法来将值转换为布尔值。转换规则是：

- 如果值表示空，比如 `0`、`''`、`null`、`undefined`、`NaN` 以及 `false` 等，都将转换为 `false`。
- 否则，转换为 `true`。

> 注意：`'0'` 被处理为 `true`，JavaScript 中非空字符串都被处理为 `true`。

### 运算符

#### 运算符的分类

- 操作数：运算符作用的对象，也被称为参数
- 一元运算符：只有一个操作数的运算符，例如取负数的 `-`
- 二元运算符：有两个操作数的运算符

#### 字符串拼接

当运算符 `+` 作用于字符串时，它的作用将是合并字符串。

#### 数字转换

当运算符 `+` 作为一元运算符使用时，如果操作数是数字，则没有任何变化。但是，如果操作数不是数字，则将把它转换为数字，作用与 `Number(value)` 一致。

#### 操作符优先级

当一个表达式中有超过一个运算符时，执行顺序将由操作符的优先级决定。一般的，一元运算符的优先级比对应的二元运算符的优先级要高。

#### 赋值

注意到赋值符号 `=` 也是一个运算符，这个运算符具有很低的优先级。此外，`=` 运算符支持链式赋值。

> 注意：赋值运算符返回一个值，这个值就是运算的结果。

#### 求余运算符

求余运算符 `%` 与百分比没有任何关系，`a % b` 的值就是 `a` 除以 `b` 的余数。

#### 求指运算符

求指运算符 `**` 是语言规范中新增加的运算符，`a ** b` 的值就是 `a` 自身乘以自身 `b` 次的值。

#### 自增/自减

自增和自减运算符是最长用到的数字运算符，自增将值增加 1，自减将值减少 1。自增和自减运算符可以作为前置或者后置使用，其区别在于前置时返回操作后的值，后置返回操作后的值。如果返回值没有用到，那么前置和后置的形式作用是一样的。

#### 位运算符

位运算符将参数作为 32 位二进制数对待，对其二进制形式进行处理。操作符有：AND(`&`)、OR(`|`)、XOR(`^`)、NOT(`~`)`、LEFT SHIFT(`<<`)`、RIGHT SHIFT(`>>`)、ZERO-FILL RIGHT SHIFT(`>>>`)。







